{#
/**
 * @file
 * Theme override to display a block.
 *
 * Available variables:
 * - plugin_id: The ID of the block implementation.
 * - label: The configured label of the block if visible.
 * - configuration: A list of the block's configuration values.
 *   - label: The configured label for the block.
 *   - label_display: The display settings for the label.
 *   - provider: The module or other provider that provided this block plugin.
 *   - Block plugin specific settings will also be stored here.
 * - content: The content of this block.
 * - attributes: array of HTML attributes populated by modules, intended to
 *   be added to the main container tag of this template.
 *   - id: A valid HTML ID and guaranteed unique.
 * - title_attributes: Same as attributes, except applied to the main title
 *   tag that appears in the template.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 *
 * @see template_preprocess_block()
 */
#}

<div{{attributes.addClass('')}}>

	<div class="row w-75%">
		{{ title_prefix }}
		{% if label %}
			<h2{{title_attributes}}>
				<span class="title-text">{{ label }}</span>
			</h2>
		{% endif %}
		{{ title_suffix }}
		{% block content %}
		{% for key,element in employeeimages %}
			{% set content = {
    			employee_first: field_employee_first_name[key],
				employee_last: field_employee_last_name[key],
				employee_image: element|image_style('utc_employee_small_310x450_'),
				employee_website: field_employee_website[key]|field_value,
				employee_title: field_employee_title[key],
				employee_email: field_employee_email[key],
				employee_telephone: field_employee_telephone[key],
				employee_office: field_employee_office_location[key],	
 		   } %}
			<div class="col-lg-4 col-md-6 employee-card__container">
				<div class="employee-card h-100">
					{% if content.employee_website is not empty %}
						<a href={{ content.employee_website }}>
						{% endif %}
						<img class="h-auto" src="{{ content.employee_image }}" />
						{% if content.employee_website is not empty %}
						</a>
					{% endif %}
					{# TODO card-body needs to be refactored as is used in the aggregator block #}
					<div class="employee-card__body">
						<div class="employee-card__info">
							<h3 class="employee-card__name">
								{{ content.employee_first }}
								{{ content.employee_last }}
							</h3>
							<p class="employee-card__title">
								{{ content.employee_title }}
							</p>
						
						<hr />
						
						<p>
							 <i class="fas fa-envelope fa-fw"></i>&nbsp;<a href="mailto:{{ content.employee_email }}">
							 {{ content.employee_email }}
							 </a>
						</p>
						<p>
							<i class="fas fa-map-marker fa-fw"></i>&nbsp;{{ content.employee_office }}
						</p>
						<p>
							<i class="fas fa-phone-alt fa-fw"></i><a href={{ "tel:" ~ field_employee_telephone[key]}}>
								{{ content.employee_telephone }}
							</a>
						</p>
						</div>
						{% if content.employee_website  is not empty %}
						<div class="employee-card__button">
							<a class="btn btn-light" href={{ content.employee_website  }}>More info</a>
						</div>
						{% endif %}
				
					</div>
				</div>
			</div>
	{% endfor %}
{% endblock %}</div>
